set rnu
set syscalls
set dotfiles
set smartcase
set incsearch
set ignorecase
set scrolloff=4
set viewcolumns=*{name}..,16{mtime},7{}.

source ~/.vifm/user/env.vifm

" view
" only

filetype *
            \ {explorer} explorer &,
            \ {code} code &,
            \ {gvim} gvim &,
            \ {excel} "/c/Program Files (x86)/Microsoft Office/Office16/EXCEL.EXE" &,
            \ {sublime} "/d/minieyes_chen/software/Sublime Text Build 3211 x64/sublime_text.exe" &,
filetype .*
            \ {explorer} explorer &,
            \ {code} code &,
            \ {gvim} gvim &,
            \ {excel} "/c/Program Files (x86)/Microsoft Office/Office16/EXCEL.EXE" &,
            \ {sublime} "/d/minieyes_chen/software/Sublime Text Build 3211 x64/sublime_text.exe" &,

command! bash :!MAIN_BASH_DONE= bash
command! Q :execute '!echo %d > ~/.vifm/lastdir' | quit
command! config :!cd ~/.vifm && gvim ~/.vifm/vifmrc &
command! bash :!cd %"d && MAIN_BASH_DONE= bash
command! diff :!gvim -d %"f &
command! code :!code . &
command! sublime :!"/d/minieyes_chen/software/Sublime Text Build 3211 x64/sublime_text.exe" .&<cr>

nnoremap ,E :!gvim&<cr>
nnoremap ,e :!gvim %"f&<cr>
nnoremap w :!explorer .&<cr>
nnoremap <F5> :restart<cr>
nnoremap <space><space> :!~/.vifm/scripts/CommandPalette %"d %"c %"f<cr>

nnoremap vq :only<cr>
nnoremap vv :vsplit<cr>

nnoremap gv :volumes<cr>
nnoremap gh :cd /c/Users/$USERNAME<cr>
" nnoremap gh :cd $HOME<cr>
nnoremap gd :cd /c/Users/$USERNAME/Desktop<cr>
" nnoremap gd :cd $HOME/Desktop<cr>
nnoremap gb :execute 'cd'
            \ fnameescape(term('cat ~/.vifm/user/bookmarks.txt | fzy | bash DefaultsTo .'))<cr>
nnoremap g/ :execute 'cd'
            \ fnameescape(term('fd --type d | sed -e s,\\,/,g | fzy | bash DefaultsTo .'))<cr>
nnoremap gl :execute 'cd'
            \ fnameescape(term('fd --type d --max-depth 1 --hidden | fzy | bash DefaultsTo .'))<cr>
nnoremap g1/ :execute 'cd'
            \ fnameescape(term('fd --type d --max-depth 1 --hidden | sed -e s,\\,/,g | fzy | bash DefaultsTo .'))<cr>
nnoremap g2/ :execute 'cd'
            \ fnameescape(term('fd --type d --max-depth 2 --hidden | sed -e s,\\,/,g | fzy | bash DefaultsTo .'))<cr>
nnoremap g3/ :execute 'cd'
            \ fnameescape(term('fd --type d --max-depth 3 --hidden | sed -e s,\\,/,g | fzy | bash DefaultsTo .'))<cr>

" yank current directory path to Windows clipboard with forward slashes
nnoremap yp :!cygpath -w %"d | sed -e 's!\\!/!g' | clip<cr>
" yank current directory path to Windows clipboard with backward slashes
nnoremap yP :!cygpath -w %"d | clip<cr>
" yank path to current file to Windows clipboard with forward slashes
nnoremap yf :!cygpath -w %"d\\%"c | sed -e 's!\\!/!g' | clip<cr>
" yank path to current directory to Windows clipboard with backward slashes
nnoremap yF :!cygpath -w %"d\\%"c | clip<cr>
" yank current filename without path to Windows clipboard
nnoremap yn :!cygpath -w %"c | clip<cr>
" yank root of current file's name to Windows clipboard
nnoremap yr :!cygpath -w %c:r | clip<cr>

" vim: ft=vim
